<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./assets/css/reset.css" />
    <link rel="stylesheet" href="./assets/css/home.css" />

    <title>Quản Lý Billiards</title>
  </head>
  <body>
    <!-- header -->
    <div class="container">
      <header class="header">
        <a href="index.html" class="header-left">Home</a>
        <!-- header top -->
        <div class="header-right">
          <!-- User -->
          <div class="user-info">
            <span>Xin Chào Thành Lợi</span>
            <img
              src="./assets/img/background.png"
              alt="Avatar"
              class="user-avatar"
            />
          </div>
          <!-- Menu user -->
          <div class="drop-menu" id="menu-container">
            <button class="drop-toggle" id="menu-toggle">
              <img src="./assets/icon/menu.svg" alt="Mở menu" />
            </button>
            <div class="drop__content">
              <div class="drop__info">
                <img
                  src="./assets/img/background.png"
                  alt="Avatar"
                  class="drop__avatar"
                />
                <span class="drop__username">Thành Lợi</span>
                <span class="drop__email">thanhloi@gmail.com</span>
              </div>
              <a href="#"
                ><img src="./assets/icon/account.svg" alt="" /> Account</a
              >
              <a href="#"
                ><img src="./assets/icon/setting.svg" alt="" /> Setting</a
              >
              <a href="#"
                ><img src="./assets/icon/light.svg" alt="" /> Appearance</a
              >
              <a href="#"
                ><img src="./assets/icon/logout.svg" alt="" /> Log out</a
              >
            </div>
          </div>
        </div>
      </header>
      <main class="main">
        <!-- Thống kê -->
        <section class="section-summary">
          <div class="section__card">
            <span>Doanh thu hôm nay</span>
            <strong id="daily-revenue">0đ</strong>
          </div>
          <div class="section__card">
            <span>Số bàn đang mở</span>
            <strong>
              <span id="section__playing">0</span>
              /
              <span id="section__tables">0</span>
            </strong>
          </div>
        </section>
        <!-- main action -->
        <section class="table-section">
          <!-- add table -->
          <div class="table-section-header">
            <div class="add-table">
              <button type="button" class="plus" id="add-table-plus">
                <img src="./assets/icon/add.svg" alt="Plus" />
                <span>Thêm bàn</span>
              </button>
            </div>
            <div class="manage-menu">
              <button type="button" class="manage-menu-btn" id="history-btn">
                <img src="./assets/icon/history.svg" alt="History" />
                <span>Lịch sử</span>
              </button>
            </div>
            <div class="manage-menu">
              <button
                type="button"
                class="manage-menu-btn"
                id="manage-menu-btn"
              >
                <img src="./assets/icon/mangage.svg" alt="Manage" />
                <span>Quản lý Menu</span>
              </button>
            </div>
          </div>
          <div class="table__list"></div>
        </section>
      </main>
    </div>
    <!-- create table -->
    <div class="table-modal" id="add-table-modal">
      <div class="modal__content">
        <form id="add-table-form">
          <h2 id="modal-title">Thêm bàn mới</h2>

          <label for="table-name">Tên bàn:</label>
          <input type="text" id="table-name" placeholder="VD: Bàn 1" />

          <label for="table-type">Loại bàn:</label>
          <input type="text" id="table-type" placeholder="VD: Lỗ" />

          <div class="modal__action">
            <button type="button" class="btn-cancel" id="cancel-btn">
              Hủy
            </button>
            <button type="submit" class="btn-submit" id="modal-update">
              Thêm
            </button>
          </div>
        </form>
      </div>
    </div>
    <!--delete table -->
    <div class="table-modal" id="delete-confirm">
      <div class="modal__content">
        <h2>Xác nhận xóa</h2>
        <p>
          Bạn có chắc chắn muốn xóa <strong id="delete__table"></strong> không?
        </p>
        <div class="modal__action">
          <button type="button" class="btn-cancel" id="btn__cancel__delete">
            Hủy
          </button>
          <button type="button" class="btn-delete" id="btn__confirm__delete">
            Xóa
          </button>
        </div>
      </div>
    </div>
    <!-- manage Menu -->
    <div class="table-modal" id="manage-menu-modal">
      <div class="modal__content modal__large">
        <div class="modal__header">
          <h2>Quản lý Menu</h2>
          <button class="modal-close-btn" id="close-menu-modal">&times;</button>
        </div>
        <div class="menu-toolbar">
          <label for="search-menu">Món bạn cần tìm là:</label>
          <input type="text" id="search-menu" placeholder="Nhập tên món..." />
        </div>
        <div class="modal__action">
          <button class="btn-submit" id="open-add-menu">Thêm món</button>
        </div>

        <div class="menu-item-list grid-view" id="menu-item-list"></div>
      </div>
    </div>
    <!-- detail bill -->
    <div class="table-modal" id="table-detail">
      <div class="modal__content modal__xlarge">
        <div class="table-detail__header">
          <h2 id="detail-title">bàn 1</h2>
          <button class="modal-close-btn" id="close-detail">&times;</button>
        </div>
        <div class="table-detail-layout">
          <div class="detail__list">
            <h3>Menu</h3>
            <div class="menu-filters">
              <select
                id="menu-category-filter"
                class="filter-select"
                aria-label="Lọc theo danh mục"
              >
                <option value="all">Tất cả</option>
                <option value="food">Đồ ăn</option>
                <option value="drink">Đồ uống</option>
                <option value="tobacco">Thuốc lá</option>
                <option value="table">Loại bàn</option>
                <option value="other">Khác</option>
              </select>
              <input
                type="text"
                id="search-menu-detail"
                placeholder="Tìm món..."
                aria-label="Tìm kiếm món ăn"
              />
            </div>
            <div id="details-menu-container"></div>
          </div>
          <div class="detail__list">
            <h3>Đơn hàng</h3>
            <div id="details-order-container"></div>
            <div class="order-summary">
              <div class="summary-line">
                <span>Giờ bắt đầu:</span>
                <input
                  type="time"
                  id="summary-start-time"
                  class="time-input-clean"
                  aria-label="Thay đổi thời gian"
                />
              </div>
              <div class="summary-line">
                <span>Tổng giờ chơi:</span>
                <span id="summary-time">00:00:00</span>
              </div>
              <div class="summary-line">
                <span>Tổng món:</span>
                <span id="summary-items">0</span>
              </div>
              <div class="summary-line total">
                <strong>Tổng tiền:</strong>
                <strong id="summary-price">0đ</strong>
              </div>
            </div>
          </div>
        </div>
        <div class="modal__action">
          <button type="button" class="btn-start" id="start-stop-btn">
            Bắt đầu
          </button>
          <div class="action-right">
            <button type="button" class="btn-discount" id="discount-btn">
              Giảm Giá
            </button>
            <button type="button" class="btn-move" id="move-table-btn">
              Chuyển bàn
            </button>
            <button type="button" class="btn-delete" id="checkout-btn">
              Thanh toán
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- Create item menu-->
    <div class="table-modal" id="add-menu-modal">
      <div class="modal__content">
        <h2>Thêm món</h2>
        <form id="add-menu" novalidate>
          <div class="layout">
            <div class="group-menu">
              <label>Tên món:</label>
              <input type="text" id="menu-name" placeholder="VD: Mì" required />
            </div>
            <div class="group-menu">
              <label>Giá tiền:</label>
              <input
                type="number"
                id="menu-price"
                placeholder="VD: 1000"
                required
              />
            </div>
            <div class="group-menu">
              <label for="menu-category">Loại:</label>
              <select
                name="menu-category"
                class="modal-select"
                id="menu-category"
              >
                <option value="food">Đồ ăn</option>
                <option value="drink">Đồ uống</option>
                <option value="tobacco">Thuốc lá</option>
                <option value="table">Loại bàn</option>
                <option value="other">Khác</option>
              </select>
            </div>
            <div class="modal__action">
              <button type="button" class="btn-cancel" id="cancel-add-menu">
                Hủy
              </button>
              <button type="submit" class="btn-submit" id="add-item-btn">
                Lưu
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
    <!-- Modal in detail table -->
    <!-- confirm info -->
    <div class="table-modal custom-modal" id="custom-confirm-modal">
      <div class="modal__content modal-sm text-center">
        <h2 class="text-danger">Xác nhận</h2>
        <p class="modal-msg" id="confirm-message"></p>
        <div class="modal__action justify-center">
          <button type="button" class="btn-cancel" id="btn-confirm-no">
            Hủy
          </button>
          <button type="button" class="btn-delete" id="btn-confirm-yes">
            Đồng ý
          </button>
        </div>
      </div>
    </div>
    <!-- Input info -->
    <div class="table-modal custom-modal z-high" id="custom-prompt-modal">
      <div class="modal__content modal-md">
        <h2 id="prompt-title">Nhập thông tin</h2>
        <input
          type="text"
          class="modal-input"
          id="prompt-input"
          title="Nhập thông tin"
          autocomplete="off"
        />
        <p id="prompt-error" class="prompt-error">Vui lòng nhập thông tin!</p>
        <div class="modal__action">
          <button type="button" class="btn-cancel" id="btn-prompt-cancel">
            Hủy
          </button>
          <button type="button" class="btn-submit" id="btn-prompt-ok">
            Xác nhận
          </button>
        </div>
      </div>
    </div>
    <!-- noti info -->
    <div class="table-modal custom-modal z-high" id="custom-alert-modal">
      <div class="modal__content modal-sm text-center">
        <h2 class="text-primary">Thông báo</h2>
        <p id="alert-message" class="modal-msg"></p>
        <div class="modal__action justify-center">
          <button class="btn-submit w-full" id="btn-alert-ok" type="button">
            OK
          </button>
        </div>
      </div>
    </div>

    <div id="toast-container"></div>

    <!-- Modal history -->
    <div class="table-modal custom-modal z-high" id="history-modal">
      <div class="modal__content modal__xlarge">
        <div class="modal__header">
          <h2>Lịch sử giao dịch</h2>
          <button
            type="button"
            class="modal-close-btn"
            id="close-history-modal"
          >
            &times;
          </button>
        </div>

        <div class="history-table-container">
          <table class="history-table">
            <thead>
              <tr>
                <th>Thời gian</th>
                <th>Bàn</th>
                <th>Tổng tiền</th>
                <th>Giảm giá</th>
                <th>Thực thu</th>
              </tr>
            </thead>
            <tbody id="history-list"></tbody>
          </table>
        </div>
        <div class="modal__action">
          <button type="button" class="btn-cancel" id="close-history-btn">
            Đóng
          </button>
        </div>
      </div>
    </div>
    <!-- Modal Chi tiết hóa đơn -->
    <div class="table-modal custom-modal z-high" id="invoice-detail-modal">
      <div class="modal__content modal-md">
        <div class="modal__header">
          <h2>Chi tiết hóa đơn <span id="inv-detail-id"></span></h2>
          <button type="button" class="modal-close-btn" id="close-inv-detail">
            &times;
          </button>
        </div>

        <div class="inv-header-info">
          <p><strong>Bàn:</strong> <span id="inv-detail-table"></span></p>
          <p><strong>Thời gian:</strong> <span id="inv-detail-time"></span></p>
          <p><strong>Thu ngân:</strong> <span id="inv-detail-staff"></span></p>
        </div>

        <div class="inv-list-container">
          <table class="inv-table">
            <thead>
              <tr>
                <th>Món</th>
                <th>SL</th>
                <th>Thành tiền</th>
              </tr>
            </thead>
            <tbody id="inv-detail-list"></tbody>
          </table>
        </div>
        <div class="inv-footer">
          <p>Tổng cộng: <span id="inv-detail-total"></span></p>
          <p>Giảm giá: <span id="inv-detail-discount"></span></p>
          <p>Thực thu: <span id="inv-detail-final"></span></p>
        </div>
        <div class="modal__action">
          <button
            type="button"
            class="btn-submit w-full"
            id="print-invoice-btn"
          >
            In hóa đơn
          </button>
        </div>
      </div>
    </div>
    <script src="./assets/js/home.js"></script>
  </body>
</html>
